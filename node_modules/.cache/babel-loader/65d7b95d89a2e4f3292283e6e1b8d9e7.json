{"ast":null,"code":"import _slicedToArray from \"C:/Users/nicob/Desktop/Renovus/renovus/falconer_ui_web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\nicob\\\\Desktop\\\\Renovus\\\\renovus\\\\falconer_ui_web\\\\src\\\\containers\\\\TheHeader.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { setCookie, getCookie } from '../helpers/sessionCookie.js';\nimport { CHeader, CToggler, CHeaderBrand, CHeaderNav, CHeaderNavItem, CHeaderNavLink, CSubheader, CBreadcrumbRouter, CLink, CSelect, CRow, CCol, CWidgetDropdown, CDropdown, CDropdownToggle, CDropdownMenu, CDropdownItem } from '@coreui/react';\nimport CIcon from '@coreui/icons-react';\nimport DataAPI from '../helpers/DataAPI.js'; // routes config\n\nimport routes from '../routes';\nimport { TheHeaderDropdown, TheHeaderDropdownMssg, TheHeaderDropdownNotif, TheHeaderDropdownTasks } from './index';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar TheHeader = function TheHeader() {\n  _s();\n\n  var dispatch = useDispatch();\n  var sidebarShow = useSelector(function (state) {\n    return state.sidebarShow;\n  });\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      parks = _useState2[0],\n      setParks = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      parksLoaded = _useState4[0],\n      setParksLoaded = _useState4[1];\n\n  useEffect(function () {\n    fetchParks();\n  }, []);\n\n  var updateLocation = function updateLocation(locationId) {\n    console.log(\"Updating location to: security/authenticate/location/\".concat(locationId));\n    DataAPI({\n      'endpoint': \"security/authenticate/location/\".concat(locationId),\n      'method': 'GET'\n    }).then(function (response) {\n      console.log(response);\n      setCookie('location', locationId);\n      window.location.reload();\n    }).catch(function (response) {\n      console.error(response);\n    });\n  };\n\n  var fetchParks = function fetchParks() {\n    DataAPI({\n      'endpoint': 'security/authenticate/location',\n      'method': 'GET'\n    }).then(function (response) {\n      if (!parksLoaded) {\n        setParks(response);\n        setParksLoaded(true);\n      }\n    });\n  };\n\n  var toggleSidebar = function toggleSidebar() {\n    var val = [true, 'responsive'].includes(sidebarShow) ? false : 'responsive';\n    dispatch({\n      type: 'set',\n      sidebarShow: val\n    });\n  };\n\n  var toggleSidebarMobile = function toggleSidebarMobile() {\n    var val = [false, 'responsive'].includes(sidebarShow) ? true : 'responsive';\n    dispatch({\n      type: 'set',\n      sidebarShow: val\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(CHeader, {\n    withSubheader: true,\n    children: [/*#__PURE__*/_jsxDEV(CToggler, {\n      inHeader: true,\n      className: \"ml-md-3 d-lg-none\",\n      onClick: toggleSidebarMobile\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(CToggler, {\n      inHeader: true,\n      className: \"ml-3 d-md-down-none\",\n      onClick: toggleSidebar\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(CHeaderBrand, {\n      className: \"mx-auto d-lg-none\",\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, _this), true && /*#__PURE__*/_jsxDEV(CHeaderNav, {\n      className: \"d-md-down-none mr-auto\",\n      children: [/*#__PURE__*/_jsxDEV(CHeaderNavItem, {\n        className: \"px-3\",\n        children: false && /*#__PURE__*/_jsxDEV(CHeaderNavLink, {\n          to: \"/dashboard\",\n          children: \"Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(CHeaderNavItem, {\n        className: \"px-3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 16\n    }, _this), /*#__PURE__*/_jsxDEV(CHeaderNav, {\n      className: \"px-3\",\n      children: [/*#__PURE__*/_jsxDEV(CDropdown, {\n        children: [/*#__PURE__*/_jsxDEV(CDropdownToggle, {\n          className: 'btn-light',\n          children: [/*#__PURE__*/_jsxDEV(CIcon, {\n            name: 'cilUser',\n            size: 'md',\n            className: 'mb-2 mr-1'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, _this), \" \", getCookie('name'), \"\\xA0\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(CDropdownMenu, {\n          className: \"p-0\",\n          placement: \"bottom-end\",\n          children: [/*#__PURE__*/_jsxDEV(CDropdownItem, {\n            children: [/*#__PURE__*/_jsxDEV(CIcon, {\n              name: 'cilSettings',\n              size: 'md',\n              className: 'mr-2'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 28\n            }, _this), \"Settings\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(CDropdownItem, {\n            children: [/*#__PURE__*/_jsxDEV(CIcon, {\n              name: 'cil-account-logout',\n              size: 'md',\n              className: 'mr-2'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 28\n            }, _this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              children: \"Logout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 95\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, _this), false && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(TheHeaderDropdownNotif, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(TheHeaderDropdownTasks, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 9\n        }, _this), /*#__PURE__*/_jsxDEV(TheHeaderDropdownMssg, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 9\n        }, _this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(TheHeaderDropdown, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(CSubheader, {\n      className: \"px-3 justify-content-between\",\n      children: [/*#__PURE__*/_jsxDEV(CBreadcrumbRouter, {\n        className: \"border-0 c-subheader-nav m-0 px-0 px-md-3\",\n        routes: routes\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, _this), false && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-md-down-none mfe-2 c-subheader-nav\",\n        children: [/*#__PURE__*/_jsxDEV(CLink, {\n          className: \"c-subheader-nav-link\",\n          href: \"#\",\n          children: /*#__PURE__*/_jsxDEV(CIcon, {\n            name: \"cil-speech\",\n            alt: \"Settings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 23\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(CLink, {\n          className: \"c-subheader-nav-link\",\n          \"aria-current\": \"page\",\n          to: \"/dashboard\",\n          children: [/*#__PURE__*/_jsxDEV(CIcon, {\n            name: \"cil-graph\",\n            alt: \"Dashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 23\n          }, _this), \"\\xA0Dashboard\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(CLink, {\n          className: \"c-subheader-nav-link\",\n          href: \"#\",\n          children: [/*#__PURE__*/_jsxDEV(CIcon, {\n            name: \"cil-settings\",\n            alt: \"Settings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 23\n          }, _this), \"\\xA0Settings\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 21\n      }, _this), /*#__PURE__*/_jsxDEV(CRow, {\n        className: \"flex-center\",\n        children: /*#__PURE__*/_jsxDEV(CCol, {\n          style: {\n            whiteSpace: 'nowrap'\n          },\n          children: [\"Parque\\xA0\", /*#__PURE__*/_jsxDEV(CSelect, {\n            onChange: function onChange(ev) {\n              updateLocation(ev.target.value);\n            },\n            custom: true,\n            name: \"ccmonth\",\n            id: \"ccmonth\",\n            className: \"w-auto mx-2\",\n            children: parks && parks.map(function (oGenerator) {\n              return /*#__PURE__*/_jsxDEV(\"option\", {\n                selected: oGenerator.id == getCookie('location') ? 'selected' : '',\n                value: oGenerator.id,\n                children: oGenerator.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 33\n              }, _this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 11\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(TheHeader, \"an11wU4lynPRZuGFIorGy0LgnCY=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = TheHeader;\nexport default TheHeader;\n\nvar _c;\n\n$RefreshReg$(_c, \"TheHeader\");","map":{"version":3,"sources":["C:/Users/nicob/Desktop/Renovus/renovus/falconer_ui_web/src/containers/TheHeader.js"],"names":["React","useState","useEffect","useSelector","useDispatch","setCookie","getCookie","CHeader","CToggler","CHeaderBrand","CHeaderNav","CHeaderNavItem","CHeaderNavLink","CSubheader","CBreadcrumbRouter","CLink","CSelect","CRow","CCol","CWidgetDropdown","CDropdown","CDropdownToggle","CDropdownMenu","CDropdownItem","CIcon","DataAPI","routes","TheHeaderDropdown","TheHeaderDropdownMssg","TheHeaderDropdownNotif","TheHeaderDropdownTasks","TheHeader","dispatch","sidebarShow","state","parks","setParks","parksLoaded","setParksLoaded","fetchParks","updateLocation","locationId","console","log","then","response","window","location","reload","catch","error","toggleSidebar","val","includes","type","toggleSidebarMobile","whiteSpace","ev","target","value","map","oGenerator","id","name"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\n\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport {setCookie, getCookie} from '../helpers/sessionCookie.js'\r\nimport {\r\n  CHeader,\r\n  CToggler,\r\n  CHeaderBrand,\r\n  CHeaderNav,\r\n  CHeaderNavItem,\r\n  CHeaderNavLink,\r\n  CSubheader,\r\n  CBreadcrumbRouter,\r\n  CLink,\r\n  CSelect,\r\n  CRow,\r\n  CCol,\r\n  CWidgetDropdown,\r\n  CDropdown,\r\n  CDropdownToggle,\r\n  CDropdownMenu,\r\n  CDropdownItem\r\n\r\n\r\n} from '@coreui/react'\r\nimport CIcon from '@coreui/icons-react'\r\n\r\nimport DataAPI from '../helpers/DataAPI.js'\r\n\r\n// routes config\r\nimport routes from '../routes'\r\n\r\nimport {\r\n  TheHeaderDropdown,\r\n  TheHeaderDropdownMssg,\r\n  TheHeaderDropdownNotif,\r\n  TheHeaderDropdownTasks\r\n}  from './index'\r\n\r\nconst TheHeader = () => {\r\n  const dispatch = useDispatch()\r\n  const sidebarShow = useSelector(state => state.sidebarShow)\r\n\r\n  const [parks, setParks] = useState([]);\r\n  const [parksLoaded, setParksLoaded] = useState(false);\r\n\r\n\r\n   useEffect(() => {\r\n\r\n      fetchParks();\r\n\r\n  }, []);\r\n\r\n\r\n\r\n\r\n  const updateLocation = (locationId) => {\r\n\r\n    console.log(`Updating location to: security/authenticate/location/${locationId}`)\r\n\r\n    DataAPI({\r\n      'endpoint': `security/authenticate/location/${locationId}`,\r\n      'method': 'GET'\r\n    }).then(\r\n      response => {\r\n\r\n        console.log(response)\r\n        \r\n       setCookie('location', locationId);\r\n       window.location.reload();\r\n\r\n      }\r\n    ).catch(\r\n      response => {\r\n        console.error(response)\r\n      }\r\n    );\r\n\r\n  }\r\n\r\n\r\n  const fetchParks = () => {\r\n\r\n    DataAPI({\r\n      'endpoint': 'security/authenticate/location',\r\n      'method': 'GET'\r\n    }).then(\r\n      response => {\r\n\r\n\r\n        \r\n        if (!parksLoaded) {\r\n          setParks(response);\r\n          setParksLoaded(true);\r\n        }\r\n\r\n      }\r\n    );\r\n\r\n  }\r\n\r\n  const toggleSidebar = () => {\r\n    const val = [true, 'responsive'].includes(sidebarShow) ? false : 'responsive'\r\n    dispatch({type: 'set', sidebarShow: val})\r\n  }\r\n\r\n  const toggleSidebarMobile = () => {\r\n    const val = [false, 'responsive'].includes(sidebarShow) ? true : 'responsive'\r\n    dispatch({type: 'set', sidebarShow: val})\r\n  }\r\n\r\n  return (\r\n    <CHeader withSubheader>\r\n      <CToggler\r\n        inHeader\r\n        className=\"ml-md-3 d-lg-none\"\r\n        onClick={toggleSidebarMobile}\r\n      />\r\n      <CToggler\r\n        inHeader\r\n        className=\"ml-3 d-md-down-none\"\r\n        onClick={toggleSidebar}\r\n      />\r\n      <CHeaderBrand className=\"mx-auto d-lg-none\" to=\"/\"></CHeaderBrand>\r\n\r\n\r\n\r\n      {true && <CHeaderNav className=\"d-md-down-none mr-auto\">\r\n        <CHeaderNavItem className=\"px-3\" >\r\n          {false && <CHeaderNavLink to=\"/dashboard\">Dashboard</CHeaderNavLink>}\r\n        </CHeaderNavItem>\r\n        <CHeaderNavItem className=\"px-3\">\r\n        </CHeaderNavItem>\r\n      </CHeaderNav>}\r\n\r\n      <CHeaderNav className=\"px-3\">\r\n\r\n\r\n\r\n      {/* { getCookie('name') }&nbsp;<a onClick={(ev) => { setCookie('name', ''); ev.preventDefault(); ev.stopPropagation(); window.location.reload(); return false;   }} href=\"#\">Logout</a> */}\r\n\r\n\r\n        <CDropdown>\r\n          <CDropdownToggle className={'btn-light'}>\r\n            <CIcon name={'cilUser'} size={'md'} className={'mb-2 mr-1'}/> {getCookie('name')}&nbsp;\r\n          </CDropdownToggle>\r\n          <CDropdownMenu className=\"p-0\" placement=\"bottom-end\">\r\n            <CDropdownItem><CIcon name={'cilSettings'} size={'md'} className={'mr-2'}/>Settings</CDropdownItem>\r\n            <CDropdownItem><CIcon name={'cil-account-logout'} size={'md'} className={'mr-2'}/><a href=\"#\">Logout</a></CDropdownItem>\r\n          \r\n          </CDropdownMenu>\r\n        </CDropdown>\r\n\r\n\r\n        {false && <><TheHeaderDropdownNotif/>\r\n        <TheHeaderDropdownTasks/>\r\n        <TheHeaderDropdownMssg/></>}\r\n        <TheHeaderDropdown/>\r\n      </CHeaderNav>\r\n\r\n      <CSubheader className=\"px-3 justify-content-between\">\r\n        <CBreadcrumbRouter\r\n          className=\"border-0 c-subheader-nav m-0 px-0 px-md-3\"\r\n          routes={routes}\r\n        />\r\n          {false && <div className=\"d-md-down-none mfe-2 c-subheader-nav\">\r\n                    <CLink className=\"c-subheader-nav-link\"href=\"#\">\r\n                      <CIcon name=\"cil-speech\" alt=\"Settings\" />\r\n                    </CLink>\r\n                    <CLink\r\n                      className=\"c-subheader-nav-link\"\r\n                      aria-current=\"page\"\r\n                      to=\"/dashboard\"\r\n                    >\r\n                      <CIcon name=\"cil-graph\" alt=\"Dashboard\" />&nbsp;Dashboard\r\n                    </CLink>\r\n                    <CLink className=\"c-subheader-nav-link\" href=\"#\">\r\n                      <CIcon name=\"cil-settings\" alt=\"Settings\" />&nbsp;Settings\r\n                    </CLink>\r\n                    </div>\r\n                  }\r\n\r\n\r\n\r\n        <CRow className=\"flex-center\">\r\n          <CCol style={{whiteSpace: 'nowrap'}}>Parque&nbsp;\r\n          <CSelect onChange={(ev) => { updateLocation(ev.target.value); }} custom name=\"ccmonth\" id=\"ccmonth\" className=\"w-auto mx-2\">\r\n\r\n        {parks && parks.map((oGenerator) => (\r\n                                <option selected={oGenerator.id==getCookie('location')?'selected':''} value={oGenerator.id}>\r\n                                  {oGenerator.name}\r\n                                </option>\r\n                              ))}</CSelect>\r\n                              </CCol>\r\n        </CRow>\r\n\r\n      </CSubheader>\r\n    </CHeader>\r\n  )\r\n}\r\n\r\nexport default TheHeader\r\n"]},"metadata":{},"sourceType":"module"}
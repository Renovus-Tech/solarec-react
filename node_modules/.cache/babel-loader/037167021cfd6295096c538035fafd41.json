{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"C:/Users/nicob/Desktop/Renovus/renovus/falconer_ui_web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _createForOfIteratorHelper = require(\"C:/Users/nicob/Desktop/Renovus/renovus/falconer_ui_web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createForOfIteratorHelper\");\n\nvar _toConsumableArray = require(\"C:/Users/nicob/Desktop/Renovus/renovus/falconer_ui_web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nvar _marked = /*#__PURE__*/_regeneratorRuntime.mark(loadPluginDescriptor),\n    _marked2 = /*#__PURE__*/_regeneratorRuntime.mark(loadPresetDescriptor);\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nfunction _gensync() {\n  var data = require(\"gensync\");\n\n  _gensync = function _gensync() {\n    return data;\n  };\n\n  return data;\n}\n\nvar _async = require(\"../gensync-utils/async\");\n\nvar _util = require(\"./util\");\n\nvar context = require(\"../index\");\n\nvar _plugin = require(\"./plugin\");\n\nvar _item = require(\"./item\");\n\nvar _configChain = require(\"./config-chain\");\n\nfunction _traverse() {\n  var data = require(\"@babel/traverse\");\n\n  _traverse = function _traverse() {\n    return data;\n  };\n\n  return data;\n}\n\nvar _caching = require(\"./caching\");\n\nvar _options = require(\"./validation/options\");\n\nvar _plugins = require(\"./validation/plugins\");\n\nvar _configApi = require(\"./helpers/config-api\");\n\nvar _partial = require(\"./partial\");\n\nvar Context = require(\"./cache-contexts\");\n\nvar _default = _gensync()( /*#__PURE__*/_regeneratorRuntime.mark(function loadFullConfig(inputOpts) {\n  var _opts$assumptions, result, options, context, fileHandling, optionDefaults, plugins, presets, presetContext, toDescriptor, presetsDescriptors, initialPluginsDescriptors, pluginDescriptorsByPass, passes, ignored, opts, pluginContext;\n\n  return _regeneratorRuntime.wrap(function loadFullConfig$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          return _context3.delegateYield((0, _partial.default)(inputOpts), \"t0\", 1);\n\n        case 1:\n          result = _context3.t0;\n\n          if (result) {\n            _context3.next = 4;\n            break;\n          }\n\n          return _context3.abrupt(\"return\", null);\n\n        case 4:\n          options = result.options, context = result.context, fileHandling = result.fileHandling;\n\n          if (!(fileHandling === \"ignored\")) {\n            _context3.next = 7;\n            break;\n          }\n\n          return _context3.abrupt(\"return\", null);\n\n        case 7:\n          optionDefaults = {};\n          plugins = options.plugins, presets = options.presets;\n\n          if (!(!plugins || !presets)) {\n            _context3.next = 11;\n            break;\n          }\n\n          throw new Error(\"Assertion failure - plugins and presets exist\");\n\n        case 11:\n          presetContext = Object.assign({}, context, {\n            targets: options.targets\n          });\n\n          toDescriptor = function toDescriptor(item) {\n            var desc = (0, _item.getItemDescriptor)(item);\n\n            if (!desc) {\n              throw new Error(\"Assertion failure - must be config item\");\n            }\n\n            return desc;\n          };\n\n          presetsDescriptors = presets.map(toDescriptor);\n          initialPluginsDescriptors = plugins.map(toDescriptor);\n          pluginDescriptorsByPass = [[]];\n          passes = [];\n          return _context3.delegateYield(enhanceError(context, /*#__PURE__*/_regeneratorRuntime.mark(function recursePresetDescriptors(rawPresets, pluginDescriptorsPass) {\n            var presets, i, descriptor, _iterator, _step, _step$value, preset, pass, _ignored;\n\n            return _regeneratorRuntime.wrap(function recursePresetDescriptors$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    presets = [];\n                    i = 0;\n\n                  case 2:\n                    if (!(i < rawPresets.length)) {\n                      _context.next = 30;\n                      break;\n                    }\n\n                    descriptor = rawPresets[i];\n\n                    if (!(descriptor.options !== false)) {\n                      _context.next = 27;\n                      break;\n                    }\n\n                    _context.prev = 5;\n\n                    if (!descriptor.ownPass) {\n                      _context.next = 15;\n                      break;\n                    }\n\n                    _context.t0 = presets;\n                    return _context.delegateYield(loadPresetDescriptor(descriptor, presetContext), \"t1\", 9);\n\n                  case 9:\n                    _context.t2 = _context.t1;\n                    _context.t3 = [];\n                    _context.t4 = {\n                      preset: _context.t2,\n                      pass: _context.t3\n                    };\n\n                    _context.t0.push.call(_context.t0, _context.t4);\n\n                    _context.next = 21;\n                    break;\n\n                  case 15:\n                    _context.t5 = presets;\n                    return _context.delegateYield(loadPresetDescriptor(descriptor, presetContext), \"t6\", 17);\n\n                  case 17:\n                    _context.t7 = _context.t6;\n                    _context.t8 = pluginDescriptorsPass;\n                    _context.t9 = {\n                      preset: _context.t7,\n                      pass: _context.t8\n                    };\n\n                    _context.t5.unshift.call(_context.t5, _context.t9);\n\n                  case 21:\n                    _context.next = 27;\n                    break;\n\n                  case 23:\n                    _context.prev = 23;\n                    _context.t10 = _context[\"catch\"](5);\n\n                    if (_context.t10.code === \"BABEL_UNKNOWN_OPTION\") {\n                      (0, _options.checkNoUnwrappedItemOptionPairs)(rawPresets, i, \"preset\", _context.t10);\n                    }\n\n                    throw _context.t10;\n\n                  case 27:\n                    i++;\n                    _context.next = 2;\n                    break;\n\n                  case 30:\n                    if (!(presets.length > 0)) {\n                      _context.next = 55;\n                      break;\n                    }\n\n                    pluginDescriptorsByPass.splice.apply(pluginDescriptorsByPass, [1, 0].concat(_toConsumableArray(presets.map(function (o) {\n                      return o.pass;\n                    }).filter(function (p) {\n                      return p !== pluginDescriptorsPass;\n                    }))));\n                    _iterator = _createForOfIteratorHelper(presets);\n                    _context.prev = 33;\n\n                    _iterator.s();\n\n                  case 35:\n                    if ((_step = _iterator.n()).done) {\n                      _context.next = 47;\n                      break;\n                    }\n\n                    _step$value = _step.value, preset = _step$value.preset, pass = _step$value.pass;\n\n                    if (preset) {\n                      _context.next = 39;\n                      break;\n                    }\n\n                    return _context.abrupt(\"return\", true);\n\n                  case 39:\n                    pass.push.apply(pass, _toConsumableArray(preset.plugins));\n                    return _context.delegateYield(recursePresetDescriptors(preset.presets, pass), \"t11\", 41);\n\n                  case 41:\n                    _ignored = _context.t11;\n\n                    if (!_ignored) {\n                      _context.next = 44;\n                      break;\n                    }\n\n                    return _context.abrupt(\"return\", true);\n\n                  case 44:\n                    preset.options.forEach(function (opts) {\n                      (0, _util.mergeOptions)(optionDefaults, opts);\n                    });\n\n                  case 45:\n                    _context.next = 35;\n                    break;\n\n                  case 47:\n                    _context.next = 52;\n                    break;\n\n                  case 49:\n                    _context.prev = 49;\n                    _context.t12 = _context[\"catch\"](33);\n\n                    _iterator.e(_context.t12);\n\n                  case 52:\n                    _context.prev = 52;\n\n                    _iterator.f();\n\n                    return _context.finish(52);\n\n                  case 55:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, recursePresetDescriptors, null, [[5, 23], [33, 49, 52, 55]]);\n          }))(presetsDescriptors, pluginDescriptorsByPass[0]), \"t1\", 18);\n\n        case 18:\n          ignored = _context3.t1;\n\n          if (!ignored) {\n            _context3.next = 21;\n            break;\n          }\n\n          return _context3.abrupt(\"return\", null);\n\n        case 21:\n          opts = optionDefaults;\n          (0, _util.mergeOptions)(opts, options);\n          pluginContext = Object.assign({}, presetContext, {\n            assumptions: (_opts$assumptions = opts.assumptions) != null ? _opts$assumptions : {}\n          });\n          return _context3.delegateYield(enhanceError(context, /*#__PURE__*/_regeneratorRuntime.mark(function loadPluginDescriptors() {\n            var _pluginDescriptorsByP;\n\n            var _iterator2, _step2, descs, pass, i, descriptor;\n\n            return _regeneratorRuntime.wrap(function loadPluginDescriptors$(_context2) {\n              while (1) {\n                switch (_context2.prev = _context2.next) {\n                  case 0:\n                    (_pluginDescriptorsByP = pluginDescriptorsByPass[0]).unshift.apply(_pluginDescriptorsByP, _toConsumableArray(initialPluginsDescriptors));\n\n                    _iterator2 = _createForOfIteratorHelper(pluginDescriptorsByPass);\n                    _context2.prev = 2;\n\n                    _iterator2.s();\n\n                  case 4:\n                    if ((_step2 = _iterator2.n()).done) {\n                      _context2.next = 28;\n                      break;\n                    }\n\n                    descs = _step2.value;\n                    pass = [];\n                    passes.push(pass);\n                    i = 0;\n\n                  case 9:\n                    if (!(i < descs.length)) {\n                      _context2.next = 26;\n                      break;\n                    }\n\n                    descriptor = descs[i];\n\n                    if (!(descriptor.options !== false)) {\n                      _context2.next = 23;\n                      break;\n                    }\n\n                    _context2.prev = 12;\n                    _context2.t0 = pass;\n                    return _context2.delegateYield(loadPluginDescriptor(descriptor, pluginContext), \"t1\", 15);\n\n                  case 15:\n                    _context2.t2 = _context2.t1;\n\n                    _context2.t0.push.call(_context2.t0, _context2.t2);\n\n                    _context2.next = 23;\n                    break;\n\n                  case 19:\n                    _context2.prev = 19;\n                    _context2.t3 = _context2[\"catch\"](12);\n\n                    if (_context2.t3.code === \"BABEL_UNKNOWN_PLUGIN_PROPERTY\") {\n                      (0, _options.checkNoUnwrappedItemOptionPairs)(descs, i, \"plugin\", _context2.t3);\n                    }\n\n                    throw _context2.t3;\n\n                  case 23:\n                    i++;\n                    _context2.next = 9;\n                    break;\n\n                  case 26:\n                    _context2.next = 4;\n                    break;\n\n                  case 28:\n                    _context2.next = 33;\n                    break;\n\n                  case 30:\n                    _context2.prev = 30;\n                    _context2.t4 = _context2[\"catch\"](2);\n\n                    _iterator2.e(_context2.t4);\n\n                  case 33:\n                    _context2.prev = 33;\n\n                    _iterator2.f();\n\n                    return _context2.finish(33);\n\n                  case 36:\n                  case \"end\":\n                    return _context2.stop();\n                }\n              }\n            }, loadPluginDescriptors, null, [[2, 30, 33, 36], [12, 19]]);\n          }))(), \"t2\", 25);\n\n        case 25:\n          opts.plugins = passes[0];\n          opts.presets = passes.slice(1).filter(function (plugins) {\n            return plugins.length > 0;\n          }).map(function (plugins) {\n            return {\n              plugins: plugins\n            };\n          });\n          opts.passPerPreset = opts.presets.length > 0;\n          return _context3.abrupt(\"return\", {\n            options: opts,\n            passes: passes\n          });\n\n        case 29:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, loadFullConfig);\n}));\n\nexports.default = _default;\n\nfunction enhanceError(context, fn) {\n  return /*#__PURE__*/_regeneratorRuntime.mark(function _callee(arg1, arg2) {\n    return _regeneratorRuntime.wrap(function _callee$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.prev = 0;\n            return _context4.delegateYield(fn(arg1, arg2), \"t0\", 2);\n\n          case 2:\n            return _context4.abrupt(\"return\", _context4.t0);\n\n          case 5:\n            _context4.prev = 5;\n            _context4.t1 = _context4[\"catch\"](0);\n\n            if (!/^\\[BABEL\\]/.test(_context4.t1.message)) {\n              _context4.t1.message = \"[BABEL] \".concat(context.filename || \"unknown\", \": \").concat(_context4.t1.message);\n            }\n\n            throw _context4.t1;\n\n          case 9:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee, null, [[0, 5]]);\n  });\n}\n\nvar makeDescriptorLoader = function makeDescriptorLoader(apiFactory) {\n  return (0, _caching.makeWeakCache)( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(_ref, cache) {\n    var value, options, dirname, alias, item, factory, api;\n    return _regeneratorRuntime.wrap(function _callee2$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            value = _ref.value, options = _ref.options, dirname = _ref.dirname, alias = _ref.alias;\n\n            if (!(options === false)) {\n              _context5.next = 3;\n              break;\n            }\n\n            throw new Error(\"Assertion failure\");\n\n          case 3:\n            options = options || {};\n            item = value;\n\n            if (!(typeof value === \"function\")) {\n              _context5.next = 17;\n              break;\n            }\n\n            factory = (0, _async.maybeAsync)(value, \"You appear to be using an async plugin/preset, but Babel has been called synchronously\");\n            api = Object.assign({}, context, apiFactory(cache));\n            _context5.prev = 8;\n            return _context5.delegateYield(factory(api, options, dirname), \"t0\", 10);\n\n          case 10:\n            item = _context5.t0;\n            _context5.next = 17;\n            break;\n\n          case 13:\n            _context5.prev = 13;\n            _context5.t1 = _context5[\"catch\"](8);\n\n            if (alias) {\n              _context5.t1.message += \" (While processing: \".concat(JSON.stringify(alias), \")\");\n            }\n\n            throw _context5.t1;\n\n          case 17:\n            if (!(!item || typeof item !== \"object\")) {\n              _context5.next = 19;\n              break;\n            }\n\n            throw new Error(\"Plugin/Preset did not return an object.\");\n\n          case 19:\n            if (!(0, _async.isThenable)(item)) {\n              _context5.next = 22;\n              break;\n            }\n\n            return _context5.delegateYield([], \"t2\", 21);\n\n          case 21:\n            throw new Error(\"You appear to be using a promise as a plugin, \" + \"which your current version of Babel does not support. \" + \"If you're using a published plugin, \" + \"you may need to upgrade your @babel/core version. \" + \"As an alternative, you can prefix the promise with \\\"await\\\". \" + \"(While processing: \".concat(JSON.stringify(alias), \")\"));\n\n          case 22:\n            return _context5.abrupt(\"return\", {\n              value: item,\n              options: options,\n              dirname: dirname,\n              alias: alias\n            });\n\n          case 23:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee2, null, [[8, 13]]);\n  }));\n};\n\nvar pluginDescriptorLoader = makeDescriptorLoader(_configApi.makePluginAPI);\nvar presetDescriptorLoader = makeDescriptorLoader(_configApi.makePresetAPI);\n\nfunction loadPluginDescriptor(descriptor, context) {\n  return _regeneratorRuntime.wrap(function loadPluginDescriptor$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          if (!(descriptor.value instanceof _plugin.default)) {\n            _context6.next = 4;\n            break;\n          }\n\n          if (!descriptor.options) {\n            _context6.next = 3;\n            break;\n          }\n\n          throw new Error(\"Passed options to an existing Plugin instance will not work.\");\n\n        case 3:\n          return _context6.abrupt(\"return\", descriptor.value);\n\n        case 4:\n          _context6.t0 = instantiatePlugin;\n          return _context6.delegateYield(pluginDescriptorLoader(descriptor, context), \"t1\", 6);\n\n        case 6:\n          _context6.t2 = _context6.t1;\n          _context6.t3 = context;\n          return _context6.delegateYield((0, _context6.t0)(_context6.t2, _context6.t3), \"t4\", 9);\n\n        case 9:\n          return _context6.abrupt(\"return\", _context6.t4);\n\n        case 10:\n        case \"end\":\n          return _context6.stop();\n      }\n    }\n  }, _marked);\n}\n\nvar instantiatePlugin = (0, _caching.makeWeakCache)( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(_ref2, cache) {\n  var value, options, dirname, alias, pluginObj, plugin, inheritsDescriptor, inherits;\n  return _regeneratorRuntime.wrap(function _callee3$(_context7) {\n    while (1) {\n      switch (_context7.prev = _context7.next) {\n        case 0:\n          value = _ref2.value, options = _ref2.options, dirname = _ref2.dirname, alias = _ref2.alias;\n          pluginObj = (0, _plugins.validatePluginObject)(value);\n          plugin = Object.assign({}, pluginObj);\n\n          if (plugin.visitor) {\n            plugin.visitor = _traverse().default.explode(Object.assign({}, plugin.visitor));\n          }\n\n          if (!plugin.inherits) {\n            _context7.next = 12;\n            break;\n          }\n\n          inheritsDescriptor = {\n            name: undefined,\n            alias: \"\".concat(alias, \"$inherits\"),\n            value: plugin.inherits,\n            options: options,\n            dirname: dirname\n          };\n          return _context7.delegateYield((0, _async.forwardAsync)(loadPluginDescriptor, function (run) {\n            return cache.invalidate(function (data) {\n              return run(inheritsDescriptor, data);\n            });\n          }), \"t0\", 7);\n\n        case 7:\n          inherits = _context7.t0;\n          plugin.pre = chain(inherits.pre, plugin.pre);\n          plugin.post = chain(inherits.post, plugin.post);\n          plugin.manipulateOptions = chain(inherits.manipulateOptions, plugin.manipulateOptions);\n          plugin.visitor = _traverse().default.visitors.merge([inherits.visitor || {}, plugin.visitor || {}]);\n\n        case 12:\n          return _context7.abrupt(\"return\", new _plugin.default(plugin, options, alias));\n\n        case 13:\n        case \"end\":\n          return _context7.stop();\n      }\n    }\n  }, _callee3);\n}));\n\nvar validateIfOptionNeedsFilename = function validateIfOptionNeedsFilename(options, descriptor) {\n  if (options.test || options.include || options.exclude) {\n    var formattedPresetName = descriptor.name ? \"\\\"\".concat(descriptor.name, \"\\\"\") : \"/* your preset */\";\n    throw new Error([\"Preset \".concat(formattedPresetName, \" requires a filename to be set when babel is called directly,\"), \"```\", \"babel.transform(code, { filename: 'file.ts', presets: [\".concat(formattedPresetName, \"] });\"), \"```\", \"See https://babeljs.io/docs/en/options#filename for more information.\"].join(\"\\n\"));\n  }\n};\n\nvar validatePreset = function validatePreset(preset, context, descriptor) {\n  if (!context.filename) {\n    var options = preset.options;\n    validateIfOptionNeedsFilename(options, descriptor);\n\n    if (options.overrides) {\n      options.overrides.forEach(function (overrideOptions) {\n        return validateIfOptionNeedsFilename(overrideOptions, descriptor);\n      });\n    }\n  }\n};\n\nfunction loadPresetDescriptor(descriptor, context) {\n  var preset;\n  return _regeneratorRuntime.wrap(function loadPresetDescriptor$(_context8) {\n    while (1) {\n      switch (_context8.prev = _context8.next) {\n        case 0:\n          _context8.t0 = instantiatePreset;\n          return _context8.delegateYield(presetDescriptorLoader(descriptor, context), \"t1\", 2);\n\n        case 2:\n          _context8.t2 = _context8.t1;\n          preset = (0, _context8.t0)(_context8.t2);\n          validatePreset(preset, context, descriptor);\n          return _context8.delegateYield((0, _configChain.buildPresetChain)(preset, context), \"t3\", 6);\n\n        case 6:\n          return _context8.abrupt(\"return\", _context8.t3);\n\n        case 7:\n        case \"end\":\n          return _context8.stop();\n      }\n    }\n  }, _marked2);\n}\n\nvar instantiatePreset = (0, _caching.makeWeakCacheSync)(function (_ref3) {\n  var value = _ref3.value,\n      dirname = _ref3.dirname,\n      alias = _ref3.alias;\n  return {\n    options: (0, _options.validate)(\"preset\", value),\n    alias: alias,\n    dirname: dirname\n  };\n});\n\nfunction chain(a, b) {\n  var fns = [a, b].filter(Boolean);\n  if (fns.length <= 1) return fns[0];\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var _iterator3 = _createForOfIteratorHelper(fns),\n        _step3;\n\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var fn = _step3.value;\n        fn.apply(this, args);\n      }\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n  };\n}","map":{"version":3,"sources":["C:/Users/nicob/Desktop/Renovus/renovus/falconer_ui_web/node_modules/@babel/core/lib/config/full.js"],"names":["loadPluginDescriptor","loadPresetDescriptor","Object","defineProperty","exports","value","default","_gensync","data","require","_async","_util","context","_plugin","_item","_configChain","_traverse","_caching","_options","_plugins","_configApi","_partial","Context","_default","loadFullConfig","inputOpts","result","options","fileHandling","optionDefaults","plugins","presets","Error","presetContext","assign","targets","toDescriptor","item","desc","getItemDescriptor","presetsDescriptors","map","initialPluginsDescriptors","pluginDescriptorsByPass","passes","enhanceError","recursePresetDescriptors","rawPresets","pluginDescriptorsPass","i","length","descriptor","ownPass","preset","pass","push","unshift","code","checkNoUnwrappedItemOptionPairs","splice","o","filter","p","ignored","forEach","opts","mergeOptions","pluginContext","assumptions","_opts$assumptions","loadPluginDescriptors","descs","slice","passPerPreset","fn","arg1","arg2","test","message","filename","makeDescriptorLoader","apiFactory","makeWeakCache","cache","dirname","alias","factory","maybeAsync","api","JSON","stringify","isThenable","pluginDescriptorLoader","makePluginAPI","presetDescriptorLoader","makePresetAPI","instantiatePlugin","pluginObj","validatePluginObject","plugin","visitor","explode","inherits","inheritsDescriptor","name","undefined","forwardAsync","run","invalidate","pre","chain","post","manipulateOptions","visitors","merge","validateIfOptionNeedsFilename","include","exclude","formattedPresetName","join","validatePreset","overrides","overrideOptions","instantiatePreset","buildPresetChain","makeWeakCacheSync","validate","a","b","fns","Boolean","args","apply"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nfunction _gensync() {\n  const data = require(\"gensync\");\n\n  _gensync = function () {\n    return data;\n  };\n\n  return data;\n}\n\nvar _async = require(\"../gensync-utils/async\");\n\nvar _util = require(\"./util\");\n\nvar context = require(\"../index\");\n\nvar _plugin = require(\"./plugin\");\n\nvar _item = require(\"./item\");\n\nvar _configChain = require(\"./config-chain\");\n\nfunction _traverse() {\n  const data = require(\"@babel/traverse\");\n\n  _traverse = function () {\n    return data;\n  };\n\n  return data;\n}\n\nvar _caching = require(\"./caching\");\n\nvar _options = require(\"./validation/options\");\n\nvar _plugins = require(\"./validation/plugins\");\n\nvar _configApi = require(\"./helpers/config-api\");\n\nvar _partial = require(\"./partial\");\n\nvar Context = require(\"./cache-contexts\");\n\nvar _default = _gensync()(function* loadFullConfig(inputOpts) {\n  var _opts$assumptions;\n\n  const result = yield* (0, _partial.default)(inputOpts);\n\n  if (!result) {\n    return null;\n  }\n\n  const {\n    options,\n    context,\n    fileHandling\n  } = result;\n\n  if (fileHandling === \"ignored\") {\n    return null;\n  }\n\n  const optionDefaults = {};\n  const {\n    plugins,\n    presets\n  } = options;\n\n  if (!plugins || !presets) {\n    throw new Error(\"Assertion failure - plugins and presets exist\");\n  }\n\n  const presetContext = Object.assign({}, context, {\n    targets: options.targets\n  });\n\n  const toDescriptor = item => {\n    const desc = (0, _item.getItemDescriptor)(item);\n\n    if (!desc) {\n      throw new Error(\"Assertion failure - must be config item\");\n    }\n\n    return desc;\n  };\n\n  const presetsDescriptors = presets.map(toDescriptor);\n  const initialPluginsDescriptors = plugins.map(toDescriptor);\n  const pluginDescriptorsByPass = [[]];\n  const passes = [];\n  const ignored = yield* enhanceError(context, function* recursePresetDescriptors(rawPresets, pluginDescriptorsPass) {\n    const presets = [];\n\n    for (let i = 0; i < rawPresets.length; i++) {\n      const descriptor = rawPresets[i];\n\n      if (descriptor.options !== false) {\n        try {\n          if (descriptor.ownPass) {\n            presets.push({\n              preset: yield* loadPresetDescriptor(descriptor, presetContext),\n              pass: []\n            });\n          } else {\n            presets.unshift({\n              preset: yield* loadPresetDescriptor(descriptor, presetContext),\n              pass: pluginDescriptorsPass\n            });\n          }\n        } catch (e) {\n          if (e.code === \"BABEL_UNKNOWN_OPTION\") {\n            (0, _options.checkNoUnwrappedItemOptionPairs)(rawPresets, i, \"preset\", e);\n          }\n\n          throw e;\n        }\n      }\n    }\n\n    if (presets.length > 0) {\n      pluginDescriptorsByPass.splice(1, 0, ...presets.map(o => o.pass).filter(p => p !== pluginDescriptorsPass));\n\n      for (const {\n        preset,\n        pass\n      } of presets) {\n        if (!preset) return true;\n        pass.push(...preset.plugins);\n        const ignored = yield* recursePresetDescriptors(preset.presets, pass);\n        if (ignored) return true;\n        preset.options.forEach(opts => {\n          (0, _util.mergeOptions)(optionDefaults, opts);\n        });\n      }\n    }\n  })(presetsDescriptors, pluginDescriptorsByPass[0]);\n  if (ignored) return null;\n  const opts = optionDefaults;\n  (0, _util.mergeOptions)(opts, options);\n  const pluginContext = Object.assign({}, presetContext, {\n    assumptions: (_opts$assumptions = opts.assumptions) != null ? _opts$assumptions : {}\n  });\n  yield* enhanceError(context, function* loadPluginDescriptors() {\n    pluginDescriptorsByPass[0].unshift(...initialPluginsDescriptors);\n\n    for (const descs of pluginDescriptorsByPass) {\n      const pass = [];\n      passes.push(pass);\n\n      for (let i = 0; i < descs.length; i++) {\n        const descriptor = descs[i];\n\n        if (descriptor.options !== false) {\n          try {\n            pass.push(yield* loadPluginDescriptor(descriptor, pluginContext));\n          } catch (e) {\n            if (e.code === \"BABEL_UNKNOWN_PLUGIN_PROPERTY\") {\n              (0, _options.checkNoUnwrappedItemOptionPairs)(descs, i, \"plugin\", e);\n            }\n\n            throw e;\n          }\n        }\n      }\n    }\n  })();\n  opts.plugins = passes[0];\n  opts.presets = passes.slice(1).filter(plugins => plugins.length > 0).map(plugins => ({\n    plugins\n  }));\n  opts.passPerPreset = opts.presets.length > 0;\n  return {\n    options: opts,\n    passes: passes\n  };\n});\n\nexports.default = _default;\n\nfunction enhanceError(context, fn) {\n  return function* (arg1, arg2) {\n    try {\n      return yield* fn(arg1, arg2);\n    } catch (e) {\n      if (!/^\\[BABEL\\]/.test(e.message)) {\n        e.message = `[BABEL] ${context.filename || \"unknown\"}: ${e.message}`;\n      }\n\n      throw e;\n    }\n  };\n}\n\nconst makeDescriptorLoader = apiFactory => (0, _caching.makeWeakCache)(function* ({\n  value,\n  options,\n  dirname,\n  alias\n}, cache) {\n  if (options === false) throw new Error(\"Assertion failure\");\n  options = options || {};\n  let item = value;\n\n  if (typeof value === \"function\") {\n    const factory = (0, _async.maybeAsync)(value, `You appear to be using an async plugin/preset, but Babel has been called synchronously`);\n    const api = Object.assign({}, context, apiFactory(cache));\n\n    try {\n      item = yield* factory(api, options, dirname);\n    } catch (e) {\n      if (alias) {\n        e.message += ` (While processing: ${JSON.stringify(alias)})`;\n      }\n\n      throw e;\n    }\n  }\n\n  if (!item || typeof item !== \"object\") {\n    throw new Error(\"Plugin/Preset did not return an object.\");\n  }\n\n  if ((0, _async.isThenable)(item)) {\n    yield* [];\n    throw new Error(`You appear to be using a promise as a plugin, ` + `which your current version of Babel does not support. ` + `If you're using a published plugin, ` + `you may need to upgrade your @babel/core version. ` + `As an alternative, you can prefix the promise with \"await\". ` + `(While processing: ${JSON.stringify(alias)})`);\n  }\n\n  return {\n    value: item,\n    options,\n    dirname,\n    alias\n  };\n});\n\nconst pluginDescriptorLoader = makeDescriptorLoader(_configApi.makePluginAPI);\nconst presetDescriptorLoader = makeDescriptorLoader(_configApi.makePresetAPI);\n\nfunction* loadPluginDescriptor(descriptor, context) {\n  if (descriptor.value instanceof _plugin.default) {\n    if (descriptor.options) {\n      throw new Error(\"Passed options to an existing Plugin instance will not work.\");\n    }\n\n    return descriptor.value;\n  }\n\n  return yield* instantiatePlugin(yield* pluginDescriptorLoader(descriptor, context), context);\n}\n\nconst instantiatePlugin = (0, _caching.makeWeakCache)(function* ({\n  value,\n  options,\n  dirname,\n  alias\n}, cache) {\n  const pluginObj = (0, _plugins.validatePluginObject)(value);\n  const plugin = Object.assign({}, pluginObj);\n\n  if (plugin.visitor) {\n    plugin.visitor = _traverse().default.explode(Object.assign({}, plugin.visitor));\n  }\n\n  if (plugin.inherits) {\n    const inheritsDescriptor = {\n      name: undefined,\n      alias: `${alias}$inherits`,\n      value: plugin.inherits,\n      options,\n      dirname\n    };\n    const inherits = yield* (0, _async.forwardAsync)(loadPluginDescriptor, run => {\n      return cache.invalidate(data => run(inheritsDescriptor, data));\n    });\n    plugin.pre = chain(inherits.pre, plugin.pre);\n    plugin.post = chain(inherits.post, plugin.post);\n    plugin.manipulateOptions = chain(inherits.manipulateOptions, plugin.manipulateOptions);\n    plugin.visitor = _traverse().default.visitors.merge([inherits.visitor || {}, plugin.visitor || {}]);\n  }\n\n  return new _plugin.default(plugin, options, alias);\n});\n\nconst validateIfOptionNeedsFilename = (options, descriptor) => {\n  if (options.test || options.include || options.exclude) {\n    const formattedPresetName = descriptor.name ? `\"${descriptor.name}\"` : \"/* your preset */\";\n    throw new Error([`Preset ${formattedPresetName} requires a filename to be set when babel is called directly,`, `\\`\\`\\``, `babel.transform(code, { filename: 'file.ts', presets: [${formattedPresetName}] });`, `\\`\\`\\``, `See https://babeljs.io/docs/en/options#filename for more information.`].join(\"\\n\"));\n  }\n};\n\nconst validatePreset = (preset, context, descriptor) => {\n  if (!context.filename) {\n    const {\n      options\n    } = preset;\n    validateIfOptionNeedsFilename(options, descriptor);\n\n    if (options.overrides) {\n      options.overrides.forEach(overrideOptions => validateIfOptionNeedsFilename(overrideOptions, descriptor));\n    }\n  }\n};\n\nfunction* loadPresetDescriptor(descriptor, context) {\n  const preset = instantiatePreset(yield* presetDescriptorLoader(descriptor, context));\n  validatePreset(preset, context, descriptor);\n  return yield* (0, _configChain.buildPresetChain)(preset, context);\n}\n\nconst instantiatePreset = (0, _caching.makeWeakCacheSync)(({\n  value,\n  dirname,\n  alias\n}) => {\n  return {\n    options: (0, _options.validate)(\"preset\", value),\n    alias,\n    dirname\n  };\n});\n\nfunction chain(a, b) {\n  const fns = [a, b].filter(Boolean);\n  if (fns.length <= 1) return fns[0];\n  return function (...args) {\n    for (const fn of fns) {\n      fn.apply(this, args);\n    }\n  };\n}"]},"metadata":{},"sourceType":"script"}
{"ast":null,"code":"import _slicedToArray from \"C:/Users/nicob/Desktop/Renovus/solarec2/renovusUnicef/ui_web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\nicob\\\\Desktop\\\\Renovus\\\\solarec2\\\\renovusUnicef\\\\ui_web\\\\src\\\\containers\\\\TheHeader.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useHistory, useLocation } from \"react-router-dom\"; // import { useTranslation } from 'react-i18next'\n\nimport i18n from '../helpers/i18n';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { setCookie, getCookie } from '../helpers/sessionCookie.js';\nimport { CHeader, CToggler, CHeaderBrand, CHeaderNav, CHeaderNavItem, CHeaderNavLink, CSubheader, CBreadcrumbRouter, CLink, CSelect, CRow, CCol, CDropdown, CDropdownToggle, CDropdownMenu, CDropdownItem, CModal, CModalBody, CModalFooter, CButton } from '@coreui/react';\nimport CIcon from '@coreui/icons-react';\nimport { freeSet } from '@coreui/icons';\nimport DataAPI from '../helpers/DataAPI.js'; // import i18next from 'i18next'\n// routes config\n\nimport routes from '../routes';\nimport { TheHeaderDropdown, TheHeaderDropdownMssg, TheHeaderDropdownNotif, TheHeaderDropdownTasks } from './index';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar TheHeader = function TheHeader() {\n  _s();\n\n  var dispatch = useDispatch();\n  var sidebarShow = useSelector(function (state) {\n    return state.sidebarShow;\n  }); // i18next.changeLanguage(getCookie('language'))\n  // const { t } = useTranslation()\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      clients = _useState2[0],\n      setClients = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      clientsLoaded = _useState4[0],\n      setClientsLoaded = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      parks = _useState6[0],\n      setParks = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      parksLoaded = _useState8[0],\n      setParksLoaded = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      modalContact = _useState10[0],\n      setModalContact = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      clientSettingPermission = _useState12[0],\n      setClientSettingPermission = _useState12[1];\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      userSettingPermission = _useState14[0],\n      setUserSettingPermission = _useState14[1];\n\n  var _useState15 = useState('/overview'),\n      _useState16 = _slicedToArray(_useState15, 2),\n      dashboard = _useState16[0],\n      setDashboard = _useState16[1];\n\n  var history = useHistory();\n  var location = useLocation();\n  var noParkPages = []; // const getLanguage = () => i18next.language || window.localStorage.i18nextLng\n\n  useEffect(function () {\n    userPermissions();\n    fetchClients();\n    if (!noParkPages.includes(location.pathname)) fetchParks();\n  }, []);\n\n  var userPermissions = function userPermissions() {\n    var functionalities = JSON.parse(getCookie('functionalities'));\n\n    if (functionalities.indexOf('/client/settings') > -1) {\n      setClientSettingPermission(true);\n    }\n\n    if (functionalities.indexOf('/user/settings') > -1) {\n      setUserSettingPermission(true);\n    }\n  };\n\n  var updateClient = function updateClient(clientId) {\n    DataAPI({\n      'endpoint': \"security/authenticate/\".concat(clientId),\n      'method': 'GET'\n    }).then(function (response) {\n      console.log(response);\n      setCookie('client', clientId);\n      setCookie('clientName', response.client.name);\n      setCookie('location', response.location.id);\n      setCookie('parkType', response.location.type);\n      setCookie('parkName', response.location.name); // let functionalities = [...response.functionalities, {'url':'/modules/power-curve/benchmark'}, {'url':'/modules/power-curve/analysis'}];\n      // setCookie('functionalities', JSON.stringify(functionalities.map((f) => f.url)))\n\n      setCookie('functionalities', JSON.stringify(response.functionalities.map(function (f) {\n        return f.url;\n      })));\n      setCookie('dashboard', response.functionalities[0].url);\n      setDashboard(response.functionalities[0].url);\n      window.location.reload();\n    }).catch(function (response) {\n      console.error(response);\n    });\n  };\n\n  var updateLocation = function updateLocation(locationId) {\n    console.log(\"Updating location to: security/authenticate/location/\".concat(locationId));\n    DataAPI({\n      'endpoint': \"security/authenticate/location/\".concat(locationId),\n      'method': 'GET'\n    }).then(function (response) {\n      console.log(response);\n      setCookie('location', locationId);\n      setCookie('parkType', response.location.type);\n      setCookie('parkName', response.location.name); // let functionalities = [...response.functionalities, {'url':'/modules/power-curve/benchmark'}, {'url':'/modules/power-curve/analysis'}];\n      // setCookie('functionalities', JSON.stringify(functionalities.map((f) => f.url)))\n\n      setCookie('functionalities', JSON.stringify(response.functionalities.map(function (f) {\n        return f.url;\n      })));\n      setCookie('dashboard', response.functionalities[0].url);\n      setDashboard(response.functionalities[0].url);\n      window.location.reload();\n    }).catch(function (response) {\n      console.error(response);\n    });\n  };\n\n  var fetchClients = function fetchClients() {\n    DataAPI({\n      'endpoint': 'security/authenticate',\n      'method': 'GET'\n    }).then(function (response) {\n      if (!clientsLoaded) {\n        setClients(response);\n        setClientsLoaded(true);\n      }\n    });\n  };\n\n  var fetchParks = function fetchParks() {\n    DataAPI({\n      'endpoint': 'security/authenticate/location',\n      'method': 'GET'\n    }).then(function (response) {\n      if (!parksLoaded) {\n        setParks(response);\n        setParksLoaded(true);\n        if (getCookie('parkType') == '') setCookie('parkType', response[0].type);\n        setCookie('parkName', response[0].name);\n      }\n    });\n  };\n\n  var toggleContact = function toggleContact() {\n    setModalContact(!modalContact);\n  };\n\n  var toggleSidebar = function toggleSidebar() {\n    var val = [true, 'responsive'].includes(sidebarShow) ? false : 'responsive';\n    dispatch({\n      type: 'set',\n      sidebarShow: val\n    });\n  };\n\n  var toggleSidebarMobile = function toggleSidebarMobile() {\n    var val = [false, 'responsive'].includes(sidebarShow) ? true : 'responsive';\n    dispatch({\n      type: 'set',\n      sidebarShow: val\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(CHeader, {\n    withSubheader: true,\n    children: [/*#__PURE__*/_jsxDEV(CToggler, {\n      inHeader: true,\n      className: \"ml-md-3 d-lg-none\",\n      onClick: toggleSidebarMobile\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(CToggler, {\n      inHeader: true,\n      className: \"ml-3 d-md-down-none\",\n      onClick: toggleSidebar\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(CHeaderBrand, {\n      className: \"mx-auto d-lg-none\",\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }, _this), true && /*#__PURE__*/_jsxDEV(CHeaderNav, {\n      className: \"d-md-down-none mr-auto\",\n      children: [/*#__PURE__*/_jsxDEV(CHeaderNavItem, {\n        className: \"px-3\",\n        children: false && /*#__PURE__*/_jsxDEV(CHeaderNavLink, {\n          to: dashboard,\n          children: \"Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 21\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(CHeaderNavItem, {\n        className: \"px-3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 16\n    }, _this), /*#__PURE__*/_jsxDEV(CHeaderNav, {\n      className: \"px-3\",\n      children: [/*#__PURE__*/_jsxDEV(CSelect, {\n        value: getCookie('client'),\n        onChange: function onChange(ev) {\n          updateClient(ev.target.value);\n        },\n        custom: true,\n        name: \"client\",\n        id: \"client\",\n        className: \"w-auto mx-2 mr-3\",\n        children: clients && clients.map(function (client) {\n          return /*#__PURE__*/_jsxDEV(\"option\", {\n            value: client.id,\n            children: client.name\n          }, client.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, _this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(CDropdown, {\n        children: [/*#__PURE__*/_jsxDEV(CDropdownToggle, {\n          className: 'btn-light',\n          children: [/*#__PURE__*/_jsxDEV(CIcon, {\n            name: 'cilUser',\n            className: 'mb-1 mr-1'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 13\n          }, _this), \" \", getCookie('name'), \"\\xA0\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(CDropdownMenu, {\n          className: \"p-0\",\n          placement: \"bottom-end\",\n          children: [clientSettingPermission && /*#__PURE__*/_jsxDEV(CDropdownItem, {\n            onClick: function onClick() {\n              return history.push(\"/client/settings\");\n            },\n            children: [/*#__PURE__*/_jsxDEV(CIcon, {\n              name: 'cilSettings',\n              className: 'mr-2'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 17\n            }, _this), i18n.t('Settings')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 15\n          }, _this), userSettingPermission && /*#__PURE__*/_jsxDEV(CDropdownItem, {\n            onClick: function onClick() {\n              return history.push(\"/user/settings\");\n            },\n            children: [/*#__PURE__*/_jsxDEV(CIcon, {\n              name: 'cilUser',\n              className: 'mr-2'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 17\n            }, _this), i18n.t('User')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/_jsxDEV(CDropdownItem, {\n            onClick: toggleContact,\n            children: [/*#__PURE__*/_jsxDEV(CIcon, {\n              content: freeSet.cilContact,\n              className: 'mr-2'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 15\n            }, _this), i18n.t('Contact us')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(CDropdownItem, {\n            onClick: function onClick(ev) {\n              setCookie('name', '');\n              ev.preventDefault();\n              ev.stopPropagation();\n              window.location.reload();\n              return false;\n            },\n            children: [/*#__PURE__*/_jsxDEV(CIcon, {\n              content: freeSet.cilAccountLogout,\n              className: 'mr-2'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 15\n            }, _this), i18n.t('Logout')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(CModal, {\n        show: modalContact,\n        onClose: toggleContact,\n        size: \"sm\",\n        children: [/*#__PURE__*/_jsxDEV(CModalBody, {\n          children: [\"Contact us at \", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"mailto:support@renovus.tech\",\n            children: \"support@renovus.tech\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 27\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(CModalFooter, {\n          children: /*#__PURE__*/_jsxDEV(CButton, {\n            color: \"secondary\",\n            onClick: toggleContact,\n            children: i18n.t('Close')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 9\n      }, _this), false && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(TheHeaderDropdownNotif, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(TheHeaderDropdownTasks, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 9\n        }, _this), /*#__PURE__*/_jsxDEV(TheHeaderDropdownMssg, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 9\n        }, _this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(TheHeaderDropdown, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(CSubheader, {\n      className: \"px-3 justify-content-between\",\n      children: [/*#__PURE__*/_jsxDEV(CBreadcrumbRouter, {\n        className: \"border-0 c-subheader-nav m-0 px-0 px-md-3\",\n        routes: routes\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 9\n      }, _this), false && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-md-down-none mfe-2 c-subheader-nav\",\n        children: [/*#__PURE__*/_jsxDEV(CLink, {\n          className: \"c-subheader-nav-link\",\n          href: \"#\",\n          children: /*#__PURE__*/_jsxDEV(CIcon, {\n            name: \"cil-speech\",\n            alt: i18n.t('Settings')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 23\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(CLink, {\n          className: \"c-subheader-nav-link\",\n          \"aria-current\": \"page\",\n          to: dashboard,\n          children: [/*#__PURE__*/_jsxDEV(CIcon, {\n            name: \"cil-graph\",\n            alt: i18n.t('Dashboard')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 23\n          }, _this), \"\\xA0\", i18n.t('Dashboard')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(CLink, {\n          className: \"c-subheader-nav-link\",\n          href: \"#\",\n          children: [/*#__PURE__*/_jsxDEV(CIcon, {\n            name: \"cil-settings\",\n            alt: i18n.t('Settings')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 23\n          }, _this), \"\\xA0\", i18n.t('Settings')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 21\n      }, _this), !noParkPages.includes(location.pathname) && /*#__PURE__*/_jsxDEV(CRow, {\n        className: \"flex-center\",\n        children: /*#__PURE__*/_jsxDEV(CCol, {\n          style: {\n            whiteSpace: 'nowrap'\n          },\n          children: [i18n.t('Park'), \"\\xA0\", /*#__PURE__*/_jsxDEV(CSelect, {\n            value: getCookie('location'),\n            onChange: function onChange(ev) {\n              updateLocation(ev.target.value);\n            },\n            custom: true,\n            name: \"park\",\n            id: \"park\",\n            className: \"w-auto ml-sm-2 mr-3\",\n            children: parks && parks.map(function (park) {\n              return /*#__PURE__*/_jsxDEV(\"option\", {\n                value: park.id,\n                children: park.name\n              }, park.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 17\n              }, _this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 11\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 214,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(TheHeader, \"mYJeN2DIK0lBKBQS+nBPsLQQqNE=\", false, function () {\n  return [useDispatch, useSelector, useHistory, useLocation];\n});\n\n_c = TheHeader;\nexport default TheHeader;\n\nvar _c;\n\n$RefreshReg$(_c, \"TheHeader\");","map":{"version":3,"sources":["C:/Users/nicob/Desktop/Renovus/solarec2/renovusUnicef/ui_web/src/containers/TheHeader.js"],"names":["React","useState","useEffect","useHistory","useLocation","i18n","useSelector","useDispatch","setCookie","getCookie","CHeader","CToggler","CHeaderBrand","CHeaderNav","CHeaderNavItem","CHeaderNavLink","CSubheader","CBreadcrumbRouter","CLink","CSelect","CRow","CCol","CDropdown","CDropdownToggle","CDropdownMenu","CDropdownItem","CModal","CModalBody","CModalFooter","CButton","CIcon","freeSet","DataAPI","routes","TheHeaderDropdown","TheHeaderDropdownMssg","TheHeaderDropdownNotif","TheHeaderDropdownTasks","TheHeader","dispatch","sidebarShow","state","clients","setClients","clientsLoaded","setClientsLoaded","parks","setParks","parksLoaded","setParksLoaded","modalContact","setModalContact","clientSettingPermission","setClientSettingPermission","userSettingPermission","setUserSettingPermission","dashboard","setDashboard","history","location","noParkPages","userPermissions","fetchClients","includes","pathname","fetchParks","functionalities","JSON","parse","indexOf","updateClient","clientId","then","response","console","log","client","name","id","type","stringify","map","f","url","window","reload","catch","error","updateLocation","locationId","toggleContact","toggleSidebar","val","toggleSidebarMobile","ev","target","value","push","t","cilContact","preventDefault","stopPropagation","cilAccountLogout","whiteSpace","park"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\n// import { useTranslation } from 'react-i18next'\r\nimport i18n from '../helpers/i18n'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport {setCookie, getCookie} from '../helpers/sessionCookie.js'\r\nimport {\r\n  CHeader,\r\n  CToggler,\r\n  CHeaderBrand,\r\n  CHeaderNav,\r\n  CHeaderNavItem,\r\n  CHeaderNavLink,\r\n  CSubheader,\r\n  CBreadcrumbRouter,\r\n  CLink,\r\n  CSelect,\r\n  CRow,\r\n  CCol,\r\n  CDropdown,\r\n  CDropdownToggle,\r\n  CDropdownMenu,\r\n  CDropdownItem,\r\n  CModal,\r\n  CModalBody,\r\n  CModalFooter,\r\n  CButton,\r\n\r\n\r\n} from '@coreui/react'\r\nimport CIcon from '@coreui/icons-react'\r\nimport { freeSet } from '@coreui/icons';\r\n\r\nimport DataAPI from '../helpers/DataAPI.js'\r\n// import i18next from 'i18next'\r\n\r\n// routes config\r\nimport routes from '../routes'\r\n\r\nimport {\r\n  TheHeaderDropdown,\r\n  TheHeaderDropdownMssg,\r\n  TheHeaderDropdownNotif,\r\n  TheHeaderDropdownTasks\r\n}  from './index'\r\n\r\nconst TheHeader = () => {\r\n  const dispatch = useDispatch()\r\n  const sidebarShow = useSelector(state => state.sidebarShow)\r\n  // i18next.changeLanguage(getCookie('language'))\r\n  // const { t } = useTranslation()\r\n  const [clients, setClients] = useState([]);\r\n  const [clientsLoaded, setClientsLoaded] = useState(false);\r\n  const [parks, setParks] = useState([]);\r\n  const [parksLoaded, setParksLoaded] = useState(false);\r\n  const [modalContact, setModalContact] = useState(false);\r\n  const [clientSettingPermission, setClientSettingPermission] = useState(false);\r\n  const [userSettingPermission, setUserSettingPermission] = useState(false);\r\n  const [dashboard, setDashboard] = useState('/overview');\r\n\r\n  let history = useHistory();\r\n  const location = useLocation();\r\n  const noParkPages = [];\r\n\r\n  // const getLanguage = () => i18next.language || window.localStorage.i18nextLng\r\n  \r\n\r\n  useEffect(() => {\r\n    userPermissions()\r\n    fetchClients()\r\n    if(!noParkPages.includes(location.pathname))\r\n      fetchParks()\r\n  },[]);\r\n \r\n\r\n  const userPermissions = () => {\r\n\r\n    const functionalities = JSON.parse(getCookie('functionalities'));\r\n\r\n    if(functionalities.indexOf('/client/settings') > -1){\r\n      setClientSettingPermission(true)\r\n    }\r\n    if(functionalities.indexOf('/user/settings') > -1){\r\n      setUserSettingPermission(true)\r\n    }\r\n\r\n\r\n\r\n  }\r\n\r\n\r\n  const updateClient = (clientId) => {\r\n\r\n    DataAPI({\r\n      'endpoint': `security/authenticate/${clientId}`,\r\n      'method': 'GET'\r\n    }).then(\r\n      response => {\r\n\r\n        console.log(response)\r\n        \r\n        setCookie('client', clientId)\r\n        setCookie('clientName', response.client.name)\r\n        setCookie('location', response.location.id)\r\n        setCookie('parkType', response.location.type)\r\n        setCookie('parkName', response.location.name)\r\n        // let functionalities = [...response.functionalities, {'url':'/modules/power-curve/benchmark'}, {'url':'/modules/power-curve/analysis'}];\r\n        // setCookie('functionalities', JSON.stringify(functionalities.map((f) => f.url)))\r\n        setCookie('functionalities', JSON.stringify(response.functionalities.map((f) => f.url)))\r\n        setCookie('dashboard', response.functionalities[0].url)\r\n        setDashboard(response.functionalities[0].url)\r\n        \r\n        window.location.reload();\r\n\r\n      }\r\n    ).catch(\r\n      response => {\r\n        console.error(response)\r\n      }\r\n    );\r\n\r\n  }\r\n\r\n\r\n  const updateLocation = (locationId) => {\r\n\r\n    console.log(`Updating location to: security/authenticate/location/${locationId}`)\r\n\r\n    DataAPI({\r\n      'endpoint': `security/authenticate/location/${locationId}`,\r\n      'method': 'GET'\r\n    }).then(\r\n      response => {\r\n\r\n        console.log(response)\r\n        \r\n        setCookie('location', locationId)\r\n        setCookie('parkType', response.location.type)\r\n        setCookie('parkName', response.location.name)\r\n        // let functionalities = [...response.functionalities, {'url':'/modules/power-curve/benchmark'}, {'url':'/modules/power-curve/analysis'}];\r\n        // setCookie('functionalities', JSON.stringify(functionalities.map((f) => f.url)))\r\n        setCookie('functionalities', JSON.stringify(response.functionalities.map((f) => f.url)))\r\n        setCookie('dashboard', response.functionalities[0].url)\r\n        setDashboard(response.functionalities[0].url)\r\n        \r\n        window.location.reload();\r\n\r\n      }\r\n    ).catch(\r\n      response => {\r\n        console.error(response)\r\n      }\r\n    );\r\n\r\n  }\r\n\r\n  const fetchClients = () => {\r\n\r\n    DataAPI({\r\n      'endpoint': 'security/authenticate',\r\n      'method': 'GET'\r\n    }).then(\r\n      response => {\r\n        \r\n        if (!clientsLoaded) {\r\n          setClients(response);\r\n          setClientsLoaded(true);\r\n        }\r\n\r\n      }\r\n    );\r\n\r\n  }\r\n\r\n\r\n  const fetchParks = () => {\r\n\r\n    DataAPI({\r\n      'endpoint': 'security/authenticate/location',\r\n      'method': 'GET'\r\n    }).then(\r\n      response => {\r\n        \r\n        if (!parksLoaded) {\r\n          setParks(response);\r\n          setParksLoaded(true);\r\n          if( getCookie('parkType') == '')\r\n            setCookie('parkType',response[0].type)\r\n          setCookie('parkName', response[0].name);\r\n        }\r\n\r\n      }\r\n    );\r\n\r\n  }\r\n\r\n  const toggleContact = ()=>{\r\n    setModalContact(!modalContact);\r\n  }\r\n\r\n  const toggleSidebar = () => {\r\n    const val = [true, 'responsive'].includes(sidebarShow) ? false : 'responsive'\r\n    dispatch({type: 'set', sidebarShow: val})\r\n  }\r\n\r\n  const toggleSidebarMobile = () => {\r\n    const val = [false, 'responsive'].includes(sidebarShow) ? true : 'responsive'\r\n    dispatch({type: 'set', sidebarShow: val})\r\n  }\r\n\r\n  \r\n\r\n  return (\r\n    <CHeader withSubheader>\r\n      <CToggler\r\n        inHeader\r\n        className=\"ml-md-3 d-lg-none\"\r\n        onClick={toggleSidebarMobile}\r\n      />\r\n      <CToggler\r\n        inHeader\r\n        className=\"ml-3 d-md-down-none\"\r\n        onClick={toggleSidebar}\r\n      />\r\n      <CHeaderBrand className=\"mx-auto d-lg-none\" to=\"/\"></CHeaderBrand>\r\n\r\n\r\n\r\n      {true && <CHeaderNav className=\"d-md-down-none mr-auto\">\r\n        <CHeaderNavItem className=\"px-3\" >\r\n          {false && <CHeaderNavLink to={dashboard}>Dashboard</CHeaderNavLink>}\r\n        </CHeaderNavItem>\r\n        <CHeaderNavItem className=\"px-3\">\r\n        </CHeaderNavItem>\r\n      </CHeaderNav>}\r\n\r\n      <CHeaderNav className=\"px-3\">\r\n\r\n\r\n\r\n      {/* { getCookie('name') }&nbsp;<a onClick={(ev) => { setCookie('name', ''); ev.preventDefault(); ev.stopPropagation(); window.location.reload(); return false;   }} href=\"#\">Logout</a> */}\r\n\r\n        <CSelect value={getCookie('client')} onChange={(ev) => { updateClient(ev.target.value); }} custom name=\"client\" id=\"client\" className=\"w-auto mx-2 mr-3\">\r\n          {clients && clients.map((client) => (\r\n            <option key={client.id} value={client.id}>\r\n              {client.name}\r\n            </option>\r\n          ))}\r\n        </CSelect>\r\n\r\n        <CDropdown>\r\n          <CDropdownToggle className={'btn-light'}>\r\n            <CIcon name={'cilUser'} className={'mb-1 mr-1'}/> {getCookie('name')}&nbsp;\r\n          </CDropdownToggle>\r\n          <CDropdownMenu className=\"p-0\" placement=\"bottom-end\">\r\n            { clientSettingPermission &&\r\n              <CDropdownItem onClick={() => history.push(\"/client/settings\")}>\r\n                <CIcon name={'cilSettings'} className={'mr-2'}/>\r\n                {i18n.t('Settings')}\r\n              </CDropdownItem>\r\n            }\r\n            { userSettingPermission &&\r\n              <CDropdownItem onClick={() => history.push(\"/user/settings\")}>\r\n                <CIcon name={'cilUser'} className={'mr-2'}/>\r\n                {i18n.t('User')}\r\n              </CDropdownItem>\r\n            }\r\n            <CDropdownItem onClick={toggleContact}>\r\n              <CIcon content={freeSet.cilContact} className={'mr-2'}/>\r\n              {i18n.t('Contact us')}\r\n            </CDropdownItem>\r\n            <CDropdownItem onClick={(ev) => { setCookie('name', ''); ev.preventDefault(); ev.stopPropagation(); window.location.reload(); return false;  }}>\r\n              <CIcon content={freeSet.cilAccountLogout} className={'mr-2'}/>\r\n              {i18n.t('Logout')}\r\n            </CDropdownItem>\r\n          \r\n          </CDropdownMenu>\r\n        </CDropdown>\r\n\r\n        <CModal\r\n          show={modalContact}\r\n          onClose={toggleContact}\r\n          size='sm'\r\n        >\r\n          {/* <CModalHeader closeButton>Contact us</CModalHeader> */}\r\n          <CModalBody>\r\n            Contact us at <a href='mailto:support@renovus.tech'>support@renovus.tech</a>\r\n          </CModalBody>\r\n          <CModalFooter>\r\n            <CButton color=\"secondary\" onClick={toggleContact}>{i18n.t('Close')}</CButton>\r\n          </CModalFooter>\r\n        </CModal>\r\n\r\n\r\n        {false && <><TheHeaderDropdownNotif/>\r\n        <TheHeaderDropdownTasks/>\r\n        <TheHeaderDropdownMssg/></>}\r\n        <TheHeaderDropdown/>\r\n      </CHeaderNav>\r\n\r\n    {/* { location.pathname != '/modules/solar-battery' &&   */}\r\n      <CSubheader className=\"px-3 justify-content-between\">\r\n        <CBreadcrumbRouter\r\n          className=\"border-0 c-subheader-nav m-0 px-0 px-md-3\"\r\n          routes={routes}\r\n        />\r\n          {false && <div className=\"d-md-down-none mfe-2 c-subheader-nav\">\r\n                    <CLink className=\"c-subheader-nav-link\"href=\"#\">\r\n                      <CIcon name=\"cil-speech\" alt={i18n.t('Settings')} />\r\n                    </CLink>\r\n                    <CLink\r\n                      className=\"c-subheader-nav-link\"\r\n                      aria-current=\"page\"\r\n                      to={dashboard}\r\n                    >\r\n                      <CIcon name=\"cil-graph\" alt={i18n.t('Dashboard')} />&nbsp;{i18n.t('Dashboard')}\r\n                    </CLink>\r\n                    <CLink className=\"c-subheader-nav-link\" href=\"#\">\r\n                      <CIcon name=\"cil-settings\" alt={i18n.t('Settings')} />&nbsp;{i18n.t('Settings')}\r\n                    </CLink>\r\n                    </div>\r\n                  }\r\n\r\n\r\n\r\n        { !noParkPages.includes(location.pathname) &&\r\n          <CRow className=\"flex-center\">\r\n            <CCol style={{whiteSpace: 'nowrap'}}>{i18n.t('Park')}&nbsp;\r\n            <CSelect value={getCookie('location')} onChange={(ev) => { updateLocation(ev.target.value); }} custom name=\"park\" id=\"park\" className=\"w-auto ml-sm-2 mr-3\">\r\n              {parks && parks.map((park) => (\r\n                <option key={park.id} value={park.id}>\r\n                  {park.name}\r\n                </option>\r\n              ))}\r\n            </CSelect>\r\n            </CCol>\r\n          </CRow>\r\n        }\r\n\r\n      </CSubheader>\r\n    {/* } */}\r\n\r\n    </CHeader>\r\n  )\r\n}\r\n\r\nexport default TheHeader\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"\"use strict\";\n\nvar _createForOfIteratorHelper = require(\"C:/Users/nicob/Desktop/Renovus/renovus/falconer_ui_web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createForOfIteratorHelper\");\n\nvar _slicedToArray = require(\"C:/Users/nicob/Desktop/Renovus/renovus/falconer_ui_web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar _regeneratorRuntime = require(\"C:/Users/nicob/Desktop/Renovus/renovus/falconer_ui_web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _marked = /*#__PURE__*/_regeneratorRuntime.mark(handlerOf),\n    _marked2 = /*#__PURE__*/_regeneratorRuntime.mark(createPresetDescriptors),\n    _marked3 = /*#__PURE__*/_regeneratorRuntime.mark(createPluginDescriptors),\n    _marked4 = /*#__PURE__*/_regeneratorRuntime.mark(createDescriptors),\n    _marked5 = /*#__PURE__*/_regeneratorRuntime.mark(createDescriptor);\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createCachedDescriptors = createCachedDescriptors;\nexports.createDescriptor = createDescriptor;\nexports.createUncachedDescriptors = createUncachedDescriptors;\n\nfunction _gensync() {\n  var data = require(\"gensync\");\n\n  _gensync = function _gensync() {\n    return data;\n  };\n\n  return data;\n}\n\nvar _files = require(\"./files\");\n\nvar _item = require(\"./item\");\n\nvar _caching = require(\"./caching\");\n\nvar _resolveTargets = require(\"./resolve-targets\");\n\nfunction isEqualDescriptor(a, b) {\n  return a.name === b.name && a.value === b.value && a.options === b.options && a.dirname === b.dirname && a.alias === b.alias && a.ownPass === b.ownPass && (a.file && a.file.request) === (b.file && b.file.request) && (a.file && a.file.resolved) === (b.file && b.file.resolved);\n}\n\nfunction handlerOf(value) {\n  return _regeneratorRuntime.wrap(function handlerOf$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          return _context.abrupt(\"return\", value);\n\n        case 1:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked);\n}\n\nfunction optionsWithResolvedBrowserslistConfigFile(options, dirname) {\n  if (typeof options.browserslistConfigFile === \"string\") {\n    options.browserslistConfigFile = (0, _resolveTargets.resolveBrowserslistConfigFile)(options.browserslistConfigFile, dirname);\n  }\n\n  return options;\n}\n\nfunction createCachedDescriptors(dirname, options, alias) {\n  var plugins = options.plugins,\n      presets = options.presets,\n      passPerPreset = options.passPerPreset;\n  return {\n    options: optionsWithResolvedBrowserslistConfigFile(options, dirname),\n    plugins: plugins ? function () {\n      return createCachedPluginDescriptors(plugins, dirname)(alias);\n    } : function () {\n      return handlerOf([]);\n    },\n    presets: presets ? function () {\n      return createCachedPresetDescriptors(presets, dirname)(alias)(!!passPerPreset);\n    } : function () {\n      return handlerOf([]);\n    }\n  };\n}\n\nfunction createUncachedDescriptors(dirname, options, alias) {\n  var _plugins;\n\n  var _presets;\n\n  return {\n    options: optionsWithResolvedBrowserslistConfigFile(options, dirname),\n    plugins: /*#__PURE__*/_regeneratorRuntime.mark(function plugins() {\n      return _regeneratorRuntime.wrap(function plugins$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (_plugins) {\n                _context2.next = 3;\n                break;\n              }\n\n              return _context2.delegateYield(createPluginDescriptors(options.plugins || [], dirname, alias), \"t0\", 2);\n\n            case 2:\n              _plugins = _context2.t0;\n\n            case 3:\n              return _context2.abrupt(\"return\", _plugins);\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, plugins);\n    }),\n    presets: /*#__PURE__*/_regeneratorRuntime.mark(function presets() {\n      return _regeneratorRuntime.wrap(function presets$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (_presets) {\n                _context3.next = 3;\n                break;\n              }\n\n              return _context3.delegateYield(createPresetDescriptors(options.presets || [], dirname, alias, !!options.passPerPreset), \"t0\", 2);\n\n            case 2:\n              _presets = _context3.t0;\n\n            case 3:\n              return _context3.abrupt(\"return\", _presets);\n\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, presets);\n    })\n  };\n}\n\nvar PRESET_DESCRIPTOR_CACHE = new WeakMap();\nvar createCachedPresetDescriptors = (0, _caching.makeWeakCacheSync)(function (items, cache) {\n  var dirname = cache.using(function (dir) {\n    return dir;\n  });\n  return (0, _caching.makeStrongCacheSync)(function (alias) {\n    return (0, _caching.makeStrongCache)( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(passPerPreset) {\n      var descriptors;\n      return _regeneratorRuntime.wrap(function _callee$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              return _context4.delegateYield(createPresetDescriptors(items, dirname, alias, passPerPreset), \"t0\", 1);\n\n            case 1:\n              descriptors = _context4.t0;\n              return _context4.abrupt(\"return\", descriptors.map(function (desc) {\n                return loadCachedDescriptor(PRESET_DESCRIPTOR_CACHE, desc);\n              }));\n\n            case 3:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee);\n    }));\n  });\n});\nvar PLUGIN_DESCRIPTOR_CACHE = new WeakMap();\nvar createCachedPluginDescriptors = (0, _caching.makeWeakCacheSync)(function (items, cache) {\n  var dirname = cache.using(function (dir) {\n    return dir;\n  });\n  return (0, _caching.makeStrongCache)( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(alias) {\n    var descriptors;\n    return _regeneratorRuntime.wrap(function _callee2$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            return _context5.delegateYield(createPluginDescriptors(items, dirname, alias), \"t0\", 1);\n\n          case 1:\n            descriptors = _context5.t0;\n            return _context5.abrupt(\"return\", descriptors.map(function (desc) {\n              return loadCachedDescriptor(PLUGIN_DESCRIPTOR_CACHE, desc);\n            }));\n\n          case 3:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee2);\n  }));\n});\nvar DEFAULT_OPTIONS = {};\n\nfunction loadCachedDescriptor(cache, desc) {\n  var value = desc.value,\n      _desc$options = desc.options,\n      options = _desc$options === void 0 ? DEFAULT_OPTIONS : _desc$options;\n  if (options === false) return desc;\n  var cacheByOptions = cache.get(value);\n\n  if (!cacheByOptions) {\n    cacheByOptions = new WeakMap();\n    cache.set(value, cacheByOptions);\n  }\n\n  var possibilities = cacheByOptions.get(options);\n\n  if (!possibilities) {\n    possibilities = [];\n    cacheByOptions.set(options, possibilities);\n  }\n\n  if (possibilities.indexOf(desc) === -1) {\n    var matches = possibilities.filter(function (possibility) {\n      return isEqualDescriptor(possibility, desc);\n    });\n\n    if (matches.length > 0) {\n      return matches[0];\n    }\n\n    possibilities.push(desc);\n  }\n\n  return desc;\n}\n\nfunction createPresetDescriptors(items, dirname, alias, passPerPreset) {\n  return _regeneratorRuntime.wrap(function createPresetDescriptors$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          return _context6.delegateYield(createDescriptors(\"preset\", items, dirname, alias, passPerPreset), \"t0\", 1);\n\n        case 1:\n          return _context6.abrupt(\"return\", _context6.t0);\n\n        case 2:\n        case \"end\":\n          return _context6.stop();\n      }\n    }\n  }, _marked2);\n}\n\nfunction createPluginDescriptors(items, dirname, alias) {\n  return _regeneratorRuntime.wrap(function createPluginDescriptors$(_context7) {\n    while (1) {\n      switch (_context7.prev = _context7.next) {\n        case 0:\n          return _context7.delegateYield(createDescriptors(\"plugin\", items, dirname, alias), \"t0\", 1);\n\n        case 1:\n          return _context7.abrupt(\"return\", _context7.t0);\n\n        case 2:\n        case \"end\":\n          return _context7.stop();\n      }\n    }\n  }, _marked3);\n}\n\nfunction createDescriptors(type, items, dirname, alias, ownPass) {\n  var descriptors;\n  return _regeneratorRuntime.wrap(function createDescriptors$(_context8) {\n    while (1) {\n      switch (_context8.prev = _context8.next) {\n        case 0:\n          return _context8.delegateYield(_gensync().all(items.map(function (item, index) {\n            return createDescriptor(item, dirname, {\n              type: type,\n              alias: \"\".concat(alias, \"$\").concat(index),\n              ownPass: !!ownPass\n            });\n          })), \"t0\", 1);\n\n        case 1:\n          descriptors = _context8.t0;\n          assertNoDuplicates(descriptors);\n          return _context8.abrupt(\"return\", descriptors);\n\n        case 4:\n        case \"end\":\n          return _context8.stop();\n      }\n    }\n  }, _marked4);\n}\n\nfunction createDescriptor(pair, dirname, _ref) {\n  var type, alias, ownPass, desc, name, options, value, _value, _value2, _value3, _value4, file, filepath, resolver, request, _yield$resolver;\n\n  return _regeneratorRuntime.wrap(function createDescriptor$(_context9) {\n    while (1) {\n      switch (_context9.prev = _context9.next) {\n        case 0:\n          type = _ref.type, alias = _ref.alias, ownPass = _ref.ownPass;\n          desc = (0, _item.getItemDescriptor)(pair);\n\n          if (!desc) {\n            _context9.next = 4;\n            break;\n          }\n\n          return _context9.abrupt(\"return\", desc);\n\n        case 4:\n          value = pair;\n\n          if (Array.isArray(value)) {\n            if (value.length === 3) {\n              _value = value;\n              _value2 = _slicedToArray(_value, 3);\n              value = _value2[0];\n              options = _value2[1];\n              name = _value2[2];\n            } else {\n              _value3 = value;\n              _value4 = _slicedToArray(_value3, 2);\n              value = _value4[0];\n              options = _value4[1];\n            }\n          }\n\n          file = undefined;\n          filepath = null;\n\n          if (!(typeof value === \"string\")) {\n            _context9.next = 18;\n            break;\n          }\n\n          if (!(typeof type !== \"string\")) {\n            _context9.next = 11;\n            break;\n          }\n\n          throw new Error(\"To resolve a string-based item, the type of item must be given\");\n\n        case 11:\n          resolver = type === \"plugin\" ? _files.loadPlugin : _files.loadPreset;\n          request = value;\n          return _context9.delegateYield(resolver(value, dirname), \"t0\", 14);\n\n        case 14:\n          _yield$resolver = _context9.t0;\n          filepath = _yield$resolver.filepath;\n          value = _yield$resolver.value;\n          file = {\n            request: request,\n            resolved: filepath\n          };\n\n        case 18:\n          if (value) {\n            _context9.next = 20;\n            break;\n          }\n\n          throw new Error(\"Unexpected falsy value: \".concat(String(value)));\n\n        case 20:\n          if (!(typeof value === \"object\" && value.__esModule)) {\n            _context9.next = 26;\n            break;\n          }\n\n          if (!value.default) {\n            _context9.next = 25;\n            break;\n          }\n\n          value = value.default;\n          _context9.next = 26;\n          break;\n\n        case 25:\n          throw new Error(\"Must export a default export when using ES6 modules.\");\n\n        case 26:\n          if (!(typeof value !== \"object\" && typeof value !== \"function\")) {\n            _context9.next = 28;\n            break;\n          }\n\n          throw new Error(\"Unsupported format: \".concat(typeof value, \". Expected an object or a function.\"));\n\n        case 28:\n          if (!(filepath !== null && typeof value === \"object\" && value)) {\n            _context9.next = 30;\n            break;\n          }\n\n          throw new Error(\"Plugin/Preset files are not allowed to export objects, only functions. In \".concat(filepath));\n\n        case 30:\n          return _context9.abrupt(\"return\", {\n            name: name,\n            alias: filepath || alias,\n            value: value,\n            options: options,\n            dirname: dirname,\n            ownPass: ownPass,\n            file: file\n          });\n\n        case 31:\n        case \"end\":\n          return _context9.stop();\n      }\n    }\n  }, _marked5);\n}\n\nfunction assertNoDuplicates(items) {\n  var map = new Map();\n\n  var _iterator = _createForOfIteratorHelper(items),\n      _step;\n\n  try {\n    var _loop = function _loop() {\n      var item = _step.value;\n      if (typeof item.value !== \"function\") return \"continue\";\n      var nameMap = map.get(item.value);\n\n      if (!nameMap) {\n        nameMap = new Set();\n        map.set(item.value, nameMap);\n      }\n\n      if (nameMap.has(item.name)) {\n        var conflicts = items.filter(function (i) {\n          return i.value === item.value;\n        });\n        throw new Error([\"Duplicate plugin/preset detected.\", \"If you'd like to use two separate instances of a plugin,\", \"they need separate names, e.g.\", \"\", \"  plugins: [\", \"    ['some-plugin', {}],\", \"    ['some-plugin', {}, 'some unique name'],\", \"  ]\", \"\", \"Duplicates detected are:\", \"\".concat(JSON.stringify(conflicts, null, 2))].join(\"\\n\"));\n      }\n\n      nameMap.add(item.name);\n    };\n\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var _ret = _loop();\n\n      if (_ret === \"continue\") continue;\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n}","map":{"version":3,"sources":["C:/Users/nicob/Desktop/Renovus/renovus/falconer_ui_web/node_modules/@babel/core/lib/config/config-descriptors.js"],"names":["handlerOf","createPresetDescriptors","createPluginDescriptors","createDescriptors","createDescriptor","Object","defineProperty","exports","value","createCachedDescriptors","createUncachedDescriptors","_gensync","data","require","_files","_item","_caching","_resolveTargets","isEqualDescriptor","a","b","name","options","dirname","alias","ownPass","file","request","resolved","optionsWithResolvedBrowserslistConfigFile","browserslistConfigFile","resolveBrowserslistConfigFile","plugins","presets","passPerPreset","createCachedPluginDescriptors","createCachedPresetDescriptors","PRESET_DESCRIPTOR_CACHE","WeakMap","makeWeakCacheSync","items","cache","using","dir","makeStrongCacheSync","makeStrongCache","descriptors","map","desc","loadCachedDescriptor","PLUGIN_DESCRIPTOR_CACHE","DEFAULT_OPTIONS","cacheByOptions","get","set","possibilities","indexOf","matches","filter","possibility","length","push","type","all","item","index","assertNoDuplicates","pair","getItemDescriptor","Array","isArray","undefined","filepath","Error","resolver","loadPlugin","loadPreset","String","__esModule","default","Map","nameMap","Set","has","conflicts","i","JSON","stringify","join","add"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createCachedDescriptors = createCachedDescriptors;\nexports.createDescriptor = createDescriptor;\nexports.createUncachedDescriptors = createUncachedDescriptors;\n\nfunction _gensync() {\n  const data = require(\"gensync\");\n\n  _gensync = function () {\n    return data;\n  };\n\n  return data;\n}\n\nvar _files = require(\"./files\");\n\nvar _item = require(\"./item\");\n\nvar _caching = require(\"./caching\");\n\nvar _resolveTargets = require(\"./resolve-targets\");\n\nfunction isEqualDescriptor(a, b) {\n  return a.name === b.name && a.value === b.value && a.options === b.options && a.dirname === b.dirname && a.alias === b.alias && a.ownPass === b.ownPass && (a.file && a.file.request) === (b.file && b.file.request) && (a.file && a.file.resolved) === (b.file && b.file.resolved);\n}\n\nfunction* handlerOf(value) {\n  return value;\n}\n\nfunction optionsWithResolvedBrowserslistConfigFile(options, dirname) {\n  if (typeof options.browserslistConfigFile === \"string\") {\n    options.browserslistConfigFile = (0, _resolveTargets.resolveBrowserslistConfigFile)(options.browserslistConfigFile, dirname);\n  }\n\n  return options;\n}\n\nfunction createCachedDescriptors(dirname, options, alias) {\n  const {\n    plugins,\n    presets,\n    passPerPreset\n  } = options;\n  return {\n    options: optionsWithResolvedBrowserslistConfigFile(options, dirname),\n    plugins: plugins ? () => createCachedPluginDescriptors(plugins, dirname)(alias) : () => handlerOf([]),\n    presets: presets ? () => createCachedPresetDescriptors(presets, dirname)(alias)(!!passPerPreset) : () => handlerOf([])\n  };\n}\n\nfunction createUncachedDescriptors(dirname, options, alias) {\n  let plugins;\n  let presets;\n  return {\n    options: optionsWithResolvedBrowserslistConfigFile(options, dirname),\n\n    *plugins() {\n      if (!plugins) {\n        plugins = yield* createPluginDescriptors(options.plugins || [], dirname, alias);\n      }\n\n      return plugins;\n    },\n\n    *presets() {\n      if (!presets) {\n        presets = yield* createPresetDescriptors(options.presets || [], dirname, alias, !!options.passPerPreset);\n      }\n\n      return presets;\n    }\n\n  };\n}\n\nconst PRESET_DESCRIPTOR_CACHE = new WeakMap();\nconst createCachedPresetDescriptors = (0, _caching.makeWeakCacheSync)((items, cache) => {\n  const dirname = cache.using(dir => dir);\n  return (0, _caching.makeStrongCacheSync)(alias => (0, _caching.makeStrongCache)(function* (passPerPreset) {\n    const descriptors = yield* createPresetDescriptors(items, dirname, alias, passPerPreset);\n    return descriptors.map(desc => loadCachedDescriptor(PRESET_DESCRIPTOR_CACHE, desc));\n  }));\n});\nconst PLUGIN_DESCRIPTOR_CACHE = new WeakMap();\nconst createCachedPluginDescriptors = (0, _caching.makeWeakCacheSync)((items, cache) => {\n  const dirname = cache.using(dir => dir);\n  return (0, _caching.makeStrongCache)(function* (alias) {\n    const descriptors = yield* createPluginDescriptors(items, dirname, alias);\n    return descriptors.map(desc => loadCachedDescriptor(PLUGIN_DESCRIPTOR_CACHE, desc));\n  });\n});\nconst DEFAULT_OPTIONS = {};\n\nfunction loadCachedDescriptor(cache, desc) {\n  const {\n    value,\n    options = DEFAULT_OPTIONS\n  } = desc;\n  if (options === false) return desc;\n  let cacheByOptions = cache.get(value);\n\n  if (!cacheByOptions) {\n    cacheByOptions = new WeakMap();\n    cache.set(value, cacheByOptions);\n  }\n\n  let possibilities = cacheByOptions.get(options);\n\n  if (!possibilities) {\n    possibilities = [];\n    cacheByOptions.set(options, possibilities);\n  }\n\n  if (possibilities.indexOf(desc) === -1) {\n    const matches = possibilities.filter(possibility => isEqualDescriptor(possibility, desc));\n\n    if (matches.length > 0) {\n      return matches[0];\n    }\n\n    possibilities.push(desc);\n  }\n\n  return desc;\n}\n\nfunction* createPresetDescriptors(items, dirname, alias, passPerPreset) {\n  return yield* createDescriptors(\"preset\", items, dirname, alias, passPerPreset);\n}\n\nfunction* createPluginDescriptors(items, dirname, alias) {\n  return yield* createDescriptors(\"plugin\", items, dirname, alias);\n}\n\nfunction* createDescriptors(type, items, dirname, alias, ownPass) {\n  const descriptors = yield* _gensync().all(items.map((item, index) => createDescriptor(item, dirname, {\n    type,\n    alias: `${alias}$${index}`,\n    ownPass: !!ownPass\n  })));\n  assertNoDuplicates(descriptors);\n  return descriptors;\n}\n\nfunction* createDescriptor(pair, dirname, {\n  type,\n  alias,\n  ownPass\n}) {\n  const desc = (0, _item.getItemDescriptor)(pair);\n\n  if (desc) {\n    return desc;\n  }\n\n  let name;\n  let options;\n  let value = pair;\n\n  if (Array.isArray(value)) {\n    if (value.length === 3) {\n      [value, options, name] = value;\n    } else {\n      [value, options] = value;\n    }\n  }\n\n  let file = undefined;\n  let filepath = null;\n\n  if (typeof value === \"string\") {\n    if (typeof type !== \"string\") {\n      throw new Error(\"To resolve a string-based item, the type of item must be given\");\n    }\n\n    const resolver = type === \"plugin\" ? _files.loadPlugin : _files.loadPreset;\n    const request = value;\n    ({\n      filepath,\n      value\n    } = yield* resolver(value, dirname));\n    file = {\n      request,\n      resolved: filepath\n    };\n  }\n\n  if (!value) {\n    throw new Error(`Unexpected falsy value: ${String(value)}`);\n  }\n\n  if (typeof value === \"object\" && value.__esModule) {\n    if (value.default) {\n      value = value.default;\n    } else {\n      throw new Error(\"Must export a default export when using ES6 modules.\");\n    }\n  }\n\n  if (typeof value !== \"object\" && typeof value !== \"function\") {\n    throw new Error(`Unsupported format: ${typeof value}. Expected an object or a function.`);\n  }\n\n  if (filepath !== null && typeof value === \"object\" && value) {\n    throw new Error(`Plugin/Preset files are not allowed to export objects, only functions. In ${filepath}`);\n  }\n\n  return {\n    name,\n    alias: filepath || alias,\n    value,\n    options,\n    dirname,\n    ownPass,\n    file\n  };\n}\n\nfunction assertNoDuplicates(items) {\n  const map = new Map();\n\n  for (const item of items) {\n    if (typeof item.value !== \"function\") continue;\n    let nameMap = map.get(item.value);\n\n    if (!nameMap) {\n      nameMap = new Set();\n      map.set(item.value, nameMap);\n    }\n\n    if (nameMap.has(item.name)) {\n      const conflicts = items.filter(i => i.value === item.value);\n      throw new Error([`Duplicate plugin/preset detected.`, `If you'd like to use two separate instances of a plugin,`, `they need separate names, e.g.`, ``, `  plugins: [`, `    ['some-plugin', {}],`, `    ['some-plugin', {}, 'some unique name'],`, `  ]`, ``, `Duplicates detected are:`, `${JSON.stringify(conflicts, null, 2)}`].join(\"\\n\"));\n    }\n\n    nameMap.add(item.name);\n  }\n}"]},"metadata":{},"sourceType":"script"}